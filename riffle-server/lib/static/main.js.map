{"version":3,"sources":["./src/app/resource.service.ts","../riffle-server/src/RiffleSchema.ts","./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/colyseus.service.ts","./src/data/card-spritesheet-map.ts","./src/app/lobby/lobby.component.ts","./src/app/lobby/lobby.component.html","./src/app/game/game.component.ts","./src/app/game/game.component.html","./src/app/navbar/navbar.component.ts","./src/app/navbar/navbar.component.html","./src/app/app-routing.module.ts","./src/app/navbar/navbar.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { CardSpritesheetMap } from 'src/data/card-spritesheet-map';\nimport { Card } from '../../../riffle-server/src/RiffleSchema';\nimport { SpritesheetMetadata } from './types/spritesheet-metadata';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResourceService {\n  public spritesheet: HTMLImageElement;\n\n  constructor() {\n    this.spritesheet = new Image();\n    this.spritesheet.src = 'assets/playingCards.png';\n  }\n\n  public getCardSpritesheetMedata(card: Card): SpritesheetMetadata {\n    const suit = {\n      0: 'Clubs',\n      1: 'Diamonds',\n      2: 'Hearts',\n      3: 'Spades'\n    }[card.suit];\n\n    let num: string;\n    switch (card.num) {\n      case 1:\n        num = 'A';\n        break;\n      case 11:\n        num = 'J';\n        break;\n      case 12:\n        num = 'Q';\n        break;\n      case 13:\n        num = 'K';\n        break;\n      default:\n        num = card.num.toString();\n    }\n\n    const metadataKey = `${suit}${num}`;\n    return CardSpritesheetMap[metadataKey];\n  }\n}\n","import { Schema, ArraySchema, MapSchema, type } from '@colyseus/schema';\n\nexport enum GameView {\n  GameLobby,\n  Swapping,\n  Showdown\n}\n\nexport const GameConstants = {\n  roundTimeMS: 30 * 1000,\n};\n\nexport class Card extends Schema {\n  @type('uint8') num: number = 0;\n  @type('uint8') suit: number = 0;\n\n  constructor(num: number, suit: number) {\n    super();\n    this.num = num;\n    this.suit = suit;\n  }\n\n  // converts to format compatible with pokersolver library\n  // E.g. [num=1, suit=0] -> Ace of Spades -> 'As'\n  public asPokersolverString(): string {\n    const suit = {\n      0: 'c',\n      1: 'd',\n      2: 'h',\n      3: 's'\n    }[this.suit];\n\n    let num: string;\n    switch (this.num) {\n      case 1:\n        num = 'A';\n        break;\n      case 10:\n        num = 'T';\n        break;\n      case 11:\n        num = 'J';\n        break;\n      case 12:\n        num = 'Q';\n        break;\n      case 13:\n        num = 'K';\n        break;\n      default:\n        num = this.num.toString();\n    }\n\n    return num.concat(suit);\n  }\n}\n\nexport class Player extends Schema {\n  @type('string')\n  id: string;\n\n  @type('string')\n  name: string;\n\n  @type([ Card ])\n  cards = new ArraySchema<Card>();\n\n  @type('uint16')\n  score = 0;\n\n  @type('boolean')\n  votedNextRound: boolean = false;\n\n  @type('boolean')\n  isHost: boolean = false;\n\n  constructor(id: string, name: string, isHost: boolean) {\n    super();\n    this.id = id;\n    this.name = name;\n    this.isHost =  isHost;\n  }\n}\n\nexport class ShowdownResult extends Schema{\n  @type('string')\n  playerId: string;\n\n  @type('string')\n  playerName: string;\n\n  @type('string')\n  hand: string;\n\n  @type('uint16')\n  handScore: number;\n\n  @type('uint16')\n  totalScore: number;\n\n  constructor(playerId: string, playerName: string, hand: string, handScore: number, totalScore: number) {\n    super();\n    this.playerId = playerId;\n    this.playerName = playerName;\n    this.hand = hand;\n    this.handScore = handScore;\n    this.totalScore = totalScore;\n  }\n}\n\nexport class RiffleState extends Schema {\n  @type('uint8')\n  gameView: GameView;\n\n  @type({ map: Player })\n  players = new MapSchema<Player>();\n\n  @type([ Card ])\n  commonCards = new ArraySchema<Card>();\n\n  @type([ Card ])\n  deck: ArraySchema<Card>;\n\n  @type([ ShowdownResult ])\n  showdownResults: ShowdownResult[];\n\n  @type('uint8')\n  numVotedNextRound: number;\n\n  @type('uint8')\n  nextRoundVotesRequired: number;\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'resource-game-client';\n}\n","\n<app-navbar></app-navbar>\n<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\nimport { NavbarComponent } from './navbar/navbar.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { LobbyComponent } from './lobby/lobby.component';\nimport { GameComponent } from './game/game.component';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavbarComponent,\n    LobbyComponent,\n    GameComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    ReactiveFormsModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Client as ColyseusClient, Room, RoomAvailable } from 'colyseus.js';\nimport { from, Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ColyseusService {\n  public allRooms: RoomAvailable[];\n  private client: ColyseusClient;\n  public room: Room;\n  public room$: Observable<Room>;\n  public gamePasscode: string;\n  public isHost: boolean;\n\n  constructor() {\n    this.initClient();\n  }\n\n  private initClient(): void {\n    const host = window.document.location.host.replace(/:.*/, '');\n    const serverUrl = location.protocol.replace(\"http\", \"ws\") + \"//\" + host + (location.port ? ':'+ location.port : '');\n\n    this.client = new ColyseusClient(serverUrl);\n    this.client.joinOrCreate('lobby').then(lobby => {\n      lobby.onMessage(\"rooms\", (rooms) => {\n        this.allRooms = rooms;\n      });\n      \n      lobby.onMessage(\"+\", ([roomId, room]) => {\n        const roomIndex = this.allRooms.findIndex((room) => room.roomId === roomId);\n        if (roomIndex !== -1) {\n          this.allRooms[roomIndex] = room;\n        } else {\n          this.allRooms.push(room);\n        }\n      });\n      \n      lobby.onMessage(\"-\", (roomId) => {\n        this.allRooms = this.allRooms.filter((room) => room.roomId !== roomId);\n      });\n    });\n  }\n\n  public createRoom(options: any): Observable<Room> {\n    this.room$ = from(\n      this.client.create('riffle_room', {\n        ...options\n      })\n    ).pipe(\n      tap(room => {\n        this.room = room;\n        this.isHost = true;\n\n        room.onMessage('passcode', (passcode) => {\n          this.gamePasscode = passcode;\n        });\n      }),\n    );\n\n    return this.room$;\n  }\n\n  public joinGame(roomId: string, options: any): Observable<Room> {\n    this.room$ = from(\n      this.client.joinById(roomId, { ...options })\n    ).pipe(\n      tap(room => {\n        this.room = room;\n        this.isHost = false;\n\n        room.onMessage('passcode', (passcode) => {\n          this.gamePasscode = passcode;\n        });\n      }),\n    );\n\n    return this.room$;\n  }\n\n  public startGame(): void {\n    this.room.send('start-game');\n  }\n\n  public swapCards(commonIndex: number, handIndex: number): void {\n    this.room.send('swap-cards', {\n      handIndex,\n      commonIndex\n    });\n  }\n}\n","import { SpritesheetMetadata } from \"src/app/types/spritesheet-metadata\";\n\nexport const CardSpritesheetMap: {\n    [key: string]: SpritesheetMetadata\n} = {\n    Clubs10: {\n      x: 560,\n      y: 760,\n      width: 140,\n      height: 190\n    },\n    Clubs2: {\n      x: 280,\n      y: 1140,\n      width: 140,\n      height: 190\n    },\n    Clubs3: {\n      x: 700,\n      y: 190,\n      width: 140,\n      height: 190\n    },\n    Clubs4: {\n      x: 700,\n      y: 0,\n      width: 140,\n      height: 190\n    },\n    Clubs5: {\n      x: 560,\n      y: 1710,\n      width: 140,\n      height: 190\n    },\n    Clubs6: {\n      x: 560,\n      y: 1520,\n      width: 140,\n      height: 190\n    },\n    Clubs7: {\n      x: 560,\n      y: 1330,\n      width: 140,\n      height: 190\n    },\n    Clubs8: {\n      x: 560,\n      y: 1140,\n      width: 140,\n      height: 190\n    },\n    Clubs9: {\n      x: 560,\n      y: 950,\n      width: 140,\n      height: 190\n    },\n    ClubsA: {\n      x: 560,\n      y: 570,\n      width: 140,\n      height: 190\n    },\n    ClubsJ: {\n      x: 560,\n      y: 380,\n      width: 140,\n      height: 190\n    },\n    ClubsK: {\n      x: 560,\n      y: 190,\n      width: 140,\n      height: 190\n    },\n    ClubsQ: {\n      x: 560,\n      y: 0,\n      width: 140,\n      height: 190\n    },\n    Diamonds10: {\n      x: 420,\n      y: 190,\n      width: 140,\n      height: 190\n    },\n    Diamonds2: {\n      x: 420,\n      y: 1710,\n      width: 140,\n      height: 190\n    },\n    Diamonds3: {\n      x: 420,\n      y: 1520,\n      width: 140,\n      height: 190\n    },\n    Diamonds4: {\n      x: 420,\n      y: 1330,\n      width: 140,\n      height: 190\n    },\n    Diamonds5: {\n      x: 420,\n      y: 1140,\n      width: 140,\n      height: 190\n    },\n    Diamonds6: {\n      x: 420,\n      y: 950,\n      width: 140,\n      height: 190\n    },\n    Diamonds7: {\n      x: 420,\n      y: 760,\n      width: 140,\n      height: 190\n    },\n    Diamonds8: {\n      x: 420,\n      y: 570,\n      width: 140,\n      height: 190\n    },\n    Diamonds9: {\n      x: 420,\n      y: 380,\n      width: 140,\n      height: 190\n    },\n    DiamondsA: {\n      x: 420,\n      y: 0,\n      width: 140,\n      height: 190\n    },\n    DiamondsJ: {\n      x: 280,\n      y: 1710,\n      width: 140,\n      height: 190\n    },\n    DiamondsK: {\n      x: 280,\n      y: 1520,\n      width: 140,\n      height: 190\n    },\n    DiamondsQ: {\n      x: 280,\n      y: 1330,\n      width: 140,\n      height: 190\n    },\n    Hearts10: {\n      x: 140,\n      y: 1520,\n      width: 140,\n      height: 190\n    },\n    Hearts2: {\n      x: 700,\n      y: 380,\n      width: 140,\n      height: 190\n    },\n    Hearts3: {\n      x: 280,\n      y: 950,\n      width: 140,\n      height: 190\n    },\n    Hearts4: {\n      x: 280,\n      y: 760,\n      width: 140,\n      height: 190\n    },\n    Hearts5: {\n      x: 280,\n      y: 570,\n      width: 140,\n      height: 190\n    },\n    Hearts6: {\n      x: 280,\n      y: 380,\n      width: 140,\n      height: 190\n    },\n    Hearts7: {\n      x: 280,\n      y: 190,\n      width: 140,\n      height: 190\n    },\n    Hearts8: {\n      x: 280,\n      y: 0,\n      width: 140,\n      height: 190\n    },\n    Hearts9: {\n      x: 140,\n      y: 1710,\n      width: 140,\n      height: 190\n    },\n    HeartsA: {\n      x: 140,\n      y: 1330,\n      width: 140,\n      height: 190\n    },\n    HeartsJ: {\n      x: 140,\n      y: 1140,\n      width: 140,\n      height: 190\n    },\n    HeartsK: {\n      x: 140,\n      y: 950,\n      width: 140,\n      height: 190\n    },\n    HeartsQ: {\n      x: 140,\n      y: 760,\n      width: 140,\n      height: 190\n    },\n    Joker: {\n      x: 140,\n      y: 570,\n      width: 140,\n      height: 190\n    },\n    Spades10: {\n      x: 0,\n      y: 760,\n      width: 140,\n      height: 190\n    },\n    Spades2: {\n      x: 140,\n      y: 380,\n      width: 140,\n      height: 190\n    },\n    Spades3: {\n      x: 140,\n      y: 190,\n      width: 140,\n      height: 190\n    },\n    Spades4: {\n      x: 140,\n      y: 0,\n      width: 140,\n      height: 190\n    },\n    Spades5: {\n      x: 0,\n      y: 1710,\n      width: 140,\n      height: 190\n    },\n    Spades6: {\n      x: 0,\n      y: 1520,\n      width: 140,\n      height: 190\n    },\n    Spades7: {\n      x: 0,\n      y: 1330,\n      width: 140,\n      height: 190\n    },\n    Spades8: {\n      x: 0,\n      y: 1140,\n      width: 140,\n      height: 190\n    },\n    Spades9: {\n      x: 0,\n      y: 950,\n      width: 140,\n      height: 190\n    },\n    SpadesA: {\n      x: 0,\n      y: 570,\n      width: 140,\n      height: 190\n    },\n    SpadesJ: {\n      x: 0,\n      y: 380,\n      width: 140,\n      height: 190\n    },\n    SpadesK: {\n      x: 0,\n      y: 190,\n      width: 140,\n      height: 190\n    },\n    SpadesQ: {\n      x: 0,\n      y: 0,\n      width: 140,\n      height: 190\n    }\n  } ","import { Component, ElementRef, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { take } from 'rxjs/operators';\nimport { ColyseusService } from '../colyseus.service';\n\nimport {NgbModal, ModalDismissReasons, NgbModalRef} from '@ng-bootstrap/ng-bootstrap';\nimport { ResourceService } from '../resource.service';\nimport { NavbarService } from '../navbar/navbar.service';\n\n@Component({\n  selector: 'app-lobby',\n  templateUrl: './lobby.component.html',\n  styleUrls: ['./lobby.component.css']\n})\nexport class LobbyComponent implements OnInit {\n  public createForm: FormGroup;\n  public joinForm: FormGroup;\n  public lobbyForm: FormGroup;\n  private modalRef: NgbModalRef;\n  public wrongPasscode: boolean;\n  public isLoading: boolean;\n\n  constructor(\n    private router: Router,\n    public colyseus: ColyseusService,\n    private resourceService: ResourceService, // eagerly load card spritesheet\n    private fb: FormBuilder,\n    private modalService: NgbModal,\n    private navbarService: NavbarService,\n  ) { }\n\n  ngOnInit() {\n    this.isLoading = false;\n    this.navbarService.setMessage('Lobby');\n\n    this.createForm = this.fb.group({\n      roomName: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(20)]],\n    });\n\n    this.joinForm = this.fb.group({\n      roomId: ['', [Validators.required]],\n      passcode: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(16)]]\n    });\n\n    this.lobbyForm = this.fb.group({\n      username:  ['', [Validators.required, Validators.minLength(2), Validators.maxLength(16)]],\n      createForm: this.createForm,\n      joinForm: this.joinForm,\n    })\n  }\n\n  public createRoom(): void {\n    this.isLoading = true;\n\n    this.colyseus.createRoom({\n      username: this.lobbyForm.get('username').value,\n      roomName: this.lobbyForm.get(['createForm', 'roomName']).value,\n    }).pipe(take(1)).subscribe(room => {\n      this.router.navigate(['game', room.id]);\n    });\n  }\n\n  public openPasscodeModal(content: TemplateRef<any>, roomId: string): void {\n    this.joinForm.controls['roomId'].setValue(roomId);\n\n    if (this.lobbyForm.get('username').valid) {\n      this.modalRef = this.modalService.open(content);\n\n      this.modalRef.dismissed.pipe(take(1)).subscribe(() => {\n        this.wrongPasscode = false;\n        this.isLoading = false;\n      });\n    }\n  }\n\n  public tryJoinRoom(): void {\n    this.isLoading = true;\n\n    const username = this.lobbyForm.get('username').value;\n    const roomId = this.joinForm.get('roomId').value;\n    const passcode = this.joinForm.get('passcode').value;\n\n    this.colyseus.joinGame(roomId, {\n      username,\n      passcode,\n    }).pipe(take(1)).subscribe(room => {\n      room.onMessage('passcode-accepted', () => {\n        this.modalRef.close();\n        this.router.navigate(['game', room.id]);\n      });\n\n      room.onMessage('passcode-rejected', () => {\n        this.wrongPasscode = true;\n        this.isLoading = false;\n      });\n    });\n  }\n}\n","<form [formGroup]=\"lobbyForm\">\n  <div class=\"container mt-3\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-xs-6\">\n        <div class=\"row justify-content-center\">\n          <em>Enter a username</em>\n        </div>\n        <div class=\"row justify-content-center\">\n          <input\n            id=\"username-input\"\n            formControlName=\"username\"\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"Username\"\n            required\n          />\n        </div>\n      </div>\n    </div>\n\n    <hr />\n  \n    <div class=\"row justify-content-center\">\n      <h4>Create a Game</h4>\n    </div>\n    <div class=\"col-xs-6\">\n      <div class=\"row justify-content-center\">\n        <em>All fields are required</em>\n      </div>\n      <div class=\"row justify-content-center\">\n        <form [formGroup]=\"createForm\">\n          <input\n            formControlName=\"roomName\"\n            type=\"text\"\n            class=\"form-control\"\n            aria-label=\"Large\"\n            placeholder=\"Game Name\"\n            required\n          />\n          <button\n            class=\"btn btn-primary\"\n            type=\"submit\"\n            [disabled]=\"createForm.invalid || isLoading\"\n            (click)=\"createRoom()\"\n            autofocus\n          >\n            Create Game\n          </button>\n        </form>\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"row justify-content-center\">\n      <h4>Join a Game</h4>\n    </div>\n    <div class=\"row justify-content-center\">\n      <ng-template #noRooms>\n        <p><em>No games currently in progress</em></p>\n      </ng-template>\n        <div *ngIf=\"colyseus.allRooms?.length; else noRooms\">\n          <div class=\"row justify-content-center\"><p><em>Click a row to join a game</em></p></div>\n          <table class=\"table table-striped table-bordered table-hover\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Room Name</th>\n                <th scope=\"col\">Room ID</th>\n                <th scope=\"col\">Players</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let room of colyseus.allRooms\" (click)=\"openPasscodeModal(passcodeModal, room.roomId)\">\n                <th scope=\"row\">{{ room.metadata.roomName }}</th>\n                <td>{{ room.roomId }}</td>\n                <td>{{ room.clients }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n    </div>\n  </div>\n\n  <!-- Join Game Passcode Modal -->\n  <form [formGroup]=\"joinForm\">\n    <ng-template #passcodeModal let-modal>\n      <div class=\"modal-header\">\n        <h4 class=\"modal-title\" id=\"modal-basic-title\">Enter room passcode</h4>\n      </div>\n      <div class=\"modal-body\">\n        <div *ngIf=\"wrongPasscode\" class=\"alert alert-danger\" role=\"alert\">\n          Incorrect passcode, please try again.\n        </div>\n        <div class=\"input-group input-group-lg\">\n          <input\n            formControlName=\"passcode\"\n            (keydown.enter)=\"tryJoinRoom()\"\n            type=\"text\"\n            class=\"form-control\"\n            aria-label=\"Large\"\n            placeholder=\"Passcode\"\n            autofocus\n            required\n          />\n          <button\n            class=\"btn btn-primary\"\n            type=\"submit\"\n            [disabled]=\"isLoading\"\n            (click)=\"tryJoinRoom()\"\n          >\n            Join\n          </button>\n          <button\n            class=\"btn btn-outline-secondary\"\n            aria-label=\"Close\"\n            (click)=\"modal.dismiss()\"\n          >\n            Back\n          </button>\n        </div>\n      </div>\n    </ng-template>\n  </form>\n</form>\n\n\n","import { AfterViewInit, Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\nimport { Card, GameConstants, RiffleState, GameView, Player } from '../../../../riffle-server/src/RiffleSchema';\nimport { ColyseusService } from '../colyseus.service';\nimport { NavbarService } from '../navbar/navbar.service';\nimport { ResourceService } from '../resource.service';\n\ntype MouseTouchEvent = MouseEvent & TouchEvent;\n\n@Component({\n  selector: 'app-game',\n  templateUrl: './game.component.html',\n  styleUrls: ['./game.component.css']\n})\nexport class GameComponent implements OnInit, AfterViewInit {\n  @ViewChild('cardCanvas')\n  myCanvas: ElementRef<HTMLCanvasElement>;\n\n  public ctx: CanvasRenderingContext2D;\n  private canvas: HTMLCanvasElement;\n  private isMobile: boolean;\n\n  // for drawing cards on the canvas, and to detect which card has been clicked on mouse down\n  private cardWidth: number;\n  private cardHeight: number;\n  private handStartY: number;\n\n  public gameId: Observable<string>;\n  public selectedCommonIndex;\n  public selectedHandIndex;\n  public state: RiffleState;\n  public GameView = GameView;\n\n  public GameConstants = GameConstants;\n  public roundTimeRemainingMS: number;\n  private roundTimeInterval: any;\n  private roundTimeDeltaMS = 25;\n\n  public isNextRoundClicked: boolean;\n\n  public get stateHandCards(): Card[] {\n    return this.state.players.get(this.colyseus.room.sessionId).cards;\n  }\n\n  public get playersAsArray(): Player[] {\n    const arr = [];\n    this.state.players.forEach((player) => arr.push(player));\n    return arr;\n  }\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    public colyseus: ColyseusService,\n    public resourceService: ResourceService,\n    private navbarService: NavbarService,\n  ) { }\n\n  public startGame(): void {\n    this.colyseus.startGame();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.autoAdjustCanvas();\n    // TODO possiblity of cards being undefined here?\n    this.drawCards();\n  }\n\n  /**\n   * Automatically adjust canvas size to fit nicely on the screen\n   */\n  private autoAdjustCanvas(): void {\n    const cardsPerRow = 5;\n    const cardsPerCol = 3;\n\n    const defaultWidth = 500;\n    const defaultHeight = 405;\n    const canvasRatio = defaultWidth / defaultHeight;\n\n    const border = 10;\n\n    const availableWidth = window.innerWidth - (border * 2);\n    const availableHeight = window.innerHeight - this.canvas.offsetTop - (border * 2);\n\n    // try using all the available width\n    let chosenWidth = Math.min(availableWidth, defaultWidth);\n    let chosenHeight = Math.floor(chosenWidth / canvasRatio);\n\n    if (chosenHeight > availableHeight) {\n      // canvas is too big for the height; scale to fill the height instead\n      chosenHeight = availableHeight;\n      chosenWidth = canvasRatio * chosenHeight;\n    }\n\n    this.cardWidth = Math.floor(chosenWidth / cardsPerRow);\n    this.cardHeight = Math.floor(chosenHeight / cardsPerCol);\n    this.handStartY = this.cardHeight * 2;\n\n    this.canvas.width = chosenWidth;\n    this.canvas.height = chosenHeight;\n  }\n\n  ngOnInit(): void {\n    // from https://stackoverflow.com/a/3540295\n    // detect if this is a touch device or not\n    if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) \n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4))) { \n        this.isMobile = true;\n    }\n\n    if (this.colyseus.room === undefined) {\n      // no handle on this game; redirect to the lobby\n      this.router.navigate(['lobby']);\n    }\n\n    this.gameId = this.route.params.pipe(\n      map((params => params['id'])),\n    );\n\n    // start with default state to prevent undefined errors before the state is downloaded initially\n    this.state = new RiffleState();\n\n    this.colyseus.room$.pipe(\n      take(1)\n    ).subscribe(room => {\n      room.onStateChange((state: RiffleState) => {\n        this.state = state;\n\n        if (state.gameView === GameView.Swapping) {\n          this.drawCards();\n        }\n      });\n\n      room.onMessage('game-view-changed', (newGameView: GameView) => {\n        switch (newGameView) {\n          case GameView.Swapping:\n            // reset\n            this.selectedCommonIndex = -1;\n            this.selectedHandIndex = -1;\n\n            // start the round timer\n            this.roundTimeRemainingMS = GameConstants.roundTimeMS;\n\n            this.roundTimeInterval = setInterval(() => {\n              this.roundTimeRemainingMS -= this.roundTimeDeltaMS;\n              this.drawRoundProgressBar();\n            }, this.roundTimeDeltaMS);\n\n            // set navbar message\n            this.navbarService.setMessage('Swap for a good hand!');\n            break;\n          case GameView.Showdown:\n            // reset\n            this.isNextRoundClicked = false;\n\n            // set navbar message\n            this.navbarService.setMessage('Showdown!');\n\n            clearInterval(this.roundTimeInterval);\n            break;\n        }\n      });\n\n      room.onMessage('common-index-swapped', (commonIndex) => {\n        if (this.selectedCommonIndex === commonIndex) {\n          // deselect selected common card, since it was swapped out by someone else\n          this.selectedCommonIndex = -1;\n        }\n      });\n    });\n  }\n\n  ngAfterViewInit() {\n    this.initCanvas();\n  }\n\n  private initCanvas(): void {\n    this.canvas = this.myCanvas.nativeElement;\n    this.ctx = this.myCanvas.nativeElement.getContext('2d');\n\n    this.autoAdjustCanvas();\n\n    // register mouse event listeners\n    this.canvas.addEventListener('mousedown', e => {\n      this.onMouseEvent('mousedown', e as MouseTouchEvent);\n    });\n    this.canvas.addEventListener('mouseup', e => {\n      this.onMouseEvent('mouseup', e as MouseTouchEvent);\n    });\n    this.canvas.addEventListener('mousemove', e => {\n      this.onMouseEvent('mousemove', e as MouseTouchEvent);\n    });\n    this.canvas.addEventListener('mouseout', e => {\n      this.onMouseEvent('mouseout', e as MouseTouchEvent);\n    });\n\n    // register event listeners for touch devices\n    this.canvas.addEventListener('touchstart', e => {\n      this.onMouseEvent('touchstart', e as MouseTouchEvent);\n    });\n    this.canvas.addEventListener('touchend', e => {\n      this.onMouseEvent('touchend', e as MouseTouchEvent);\n    });\n    this.canvas.addEventListener('touchmove', e => {\n      this.onMouseEvent('touchmove', e as MouseTouchEvent);\n    });\n    this.canvas.addEventListener('touchcancel', e => {\n        this.onMouseEvent('touchcancel', e as MouseTouchEvent);\n    });\n  }\n\n  private onMouseEvent(action, e: MouseTouchEvent): void {\n    if (this.isMobile) {\n        // prevent back/forward swipes etc. in the browser on mobile devices\n        e.preventDefault();\n    }\n    \n    // extract mouse position based on event vars\n    // (different on mobile devices)\n    // TODO: extract this outside this function\n    let cursorX: number;\n    let cursorY: number;\n    if (this.isMobile) {\n      cursorX = e.touches[0].clientX - this.canvas.getBoundingClientRect().left;\n      cursorY = e.touches[0].clientY - this.canvas.getBoundingClientRect().top;\n    }\n    else {\n      cursorX = e.clientX - this.canvas.getBoundingClientRect().left;\n      cursorY = e.clientY - this.canvas.getBoundingClientRect().top;\n    }\n\n    switch (action) {\n        case 'mousedown':\n        case 'touchstart':\n          // card select detection\n          const cardIndex = Math.floor(cursorX / this.cardWidth);\n          const commonCardClicked = cursorY < this.cardHeight;\n          const handCardClicked = cursorY > this.handStartY;\n          const anyCardClicked = commonCardClicked || handCardClicked;\n\n          if (anyCardClicked) {\n            if (commonCardClicked) {\n              this.selectCommonCard(cardIndex);\n            }\n            else {\n              // hand card clicked\n              this.selectHandCard(cardIndex);\n            }\n          }\n          else {\n            // empty area clicke\n            this.deselectAllCards();\n          }\n          \n          // re-draw cards to render the card(s) highlight\n          this.drawCards();\n          break;\n        case 'mouseup':\n        case 'touchend':\n        case 'mouseout':\n            //\n            break;\n        case 'mousemove':\n        case 'touchmove':\n            //\n            break;\n    }\n  }\n\n  private drawCards(): void {\n    // clear canvas\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    const spritesheet = this.resourceService.spritesheet;\n    this.state.commonCards.forEach((card, index) => {\n      const metadata = this.resourceService.getCardSpritesheetMedata(card);\n      const offsetX = this.cardWidth * index;\n      const offsetY = 0;\n      this.ctx.drawImage(\n        spritesheet,\n        metadata.x,\n        metadata.y,\n        metadata.width,\n        metadata.height,\n        offsetX,\n        offsetY,\n        this.cardWidth,\n        this.cardHeight\n      );\n    });\n\n    if (this.selectedCommonIndex !== -1) {\n      // highlight this card as being selected\n      const offsetX = this.cardWidth * this.selectedCommonIndex;\n      this.ctx.strokeStyle = '#0000BB';\n      this.ctx.lineWidth = 3;\n      this.ctx.beginPath();\n      this.ctx.rect(offsetX, 0, this.cardWidth, this.cardHeight);\n      this.ctx.stroke();\n    }\n\n    this.stateHandCards.forEach((card, index) => {\n      const metadata = this.resourceService.getCardSpritesheetMedata(card);\n      const offsetX = this.cardWidth * index;\n      const offsetY = this.handStartY;\n      this.ctx.drawImage(\n        spritesheet,\n        metadata.x,\n        metadata.y,\n        metadata.width,\n        metadata.height,\n        offsetX,\n        offsetY,\n        this.cardWidth,\n        this.cardHeight\n      );\n    });\n\n    if (this.selectedHandIndex !== -1) {\n      // highlight this card as being selected\n      const offsetX = this.cardWidth * this.selectedHandIndex;\n      this.ctx.strokeStyle = '#0000BB';\n      this.ctx.lineWidth = 3;\n      this.ctx.beginPath();\n      this.ctx.rect(offsetX, this.handStartY, this.cardWidth, this.cardHeight);\n      this.ctx.stroke();\n    }\n\n    // redraw round progress bar, since the canvas was cleared\n    this.drawRoundProgressBar();\n  }\n\n  private drawRoundProgressBar(): void {\n    const roundProgress = this.roundTimeRemainingMS / GameConstants.roundTimeMS;\n    const barWidth = this.canvas.width * roundProgress;\n\n    // calculate progress bar RGB (changes from green to red over time)\n    const compMax = 180;\n    const compLimit = 1200;\n    const exponent = 12;\n    const exponentMax = Math.pow(2, exponent);\n\n    let red = Math.floor(Math.pow(2, (1 - roundProgress) * exponent) / exponentMax * compLimit);\n\n    if (red < 0) red = 0;\n    if (red > compMax) red = compMax;\n\n    let green = compMax - red;\n\n    const redString = red < 16 ? '0' + red.toString(16) : red.toString(16);\n    const greenString = green < 16 ? '0' + green.toString(16) : green.toString(16);\n\n    this.ctx.fillStyle = `#${redString}${greenString}00`;\n\n    this.ctx.clearRect(0, this.cardHeight, this.canvas.width, this.cardHeight);\n    this.ctx.fillRect(0, this.cardHeight, barWidth, this.cardHeight);\n  }\n\n  public selectCommonCard(index: number): void {\n    if (this.selectedCommonIndex === index) {\n      this.selectedCommonIndex = -1;\n    }\n    else {\n      this.selectedCommonIndex = index;\n      this.swapIfBothSelected();\n    }\n  }\n\n  public selectHandCard(index: number): void {\n    if (this.selectedCommonIndex === -1) {\n      // must select common card first\n      return;\n    }\n\n    if (this.selectedHandIndex === index) {\n      this.selectedHandIndex = -1;\n    }\n    else {\n      this.selectedHandIndex = index;\n      this.swapIfBothSelected();\n    }\n  }\n\n  private swapIfBothSelected(): void {\n    if (this.selectedCommonIndex !== -1 && this.selectedHandIndex !== -1) {\n      this.colyseus.swapCards(this.selectedCommonIndex, this.selectedHandIndex);\n      this.deselectAllCards();\n    }\n  }\n\n  private deselectAllCards(): void {\n    this.selectedCommonIndex = -1;\n    this.selectedHandIndex = -1;\n  }\n\n  public onNextRoundClicked(): void {\n    this.isNextRoundClicked = true;\n    this.colyseus.room.send('next-round-vote');\n  }\n}\n","<div class=\"container mt-3\">\n    <div [hidden]=\"state.gameView !== GameView.GameLobby\">\n        <div class=\"text-center\">\n            <h4>Passcode:</h4>\n        </div>\n        <div class=\"text-center\">\n            <h3 [innerText]=\"colyseus.gamePasscode\"></h3>\n        </div>\n        <div class=\"text-center\">\n            <p [innerText]=\"\n                colyseus.isHost ?\n                'Press Start Game when all players have joined.' :\n                'Waiting for the host to start the game...'\n            \"></p>\n            <div class=\"row justify-content-center\">\n                <button\n                    class=\"btn btn-primary mb-3\"\n                    type=\"button\"\n                    *ngIf=\"colyseus.isHost\"\n                    (click)=\"startGame()\"\n                >Start Game</button>\n            </div>\n        </div>\n        <hr />\n        <div class=\"text-center\">\n            <p>Players connected:</p>\n            <ul class=\"player-list\">\n                <li *ngFor=\"let player of playersAsArray\" [innerText]=\"player.name\"></li>\n            </ul>\n        </div>\n        <hr />\n    </div> \n\n    <div [hidden]=\"state.gameView !== GameView.Swapping\">\n        <strong class=\"text-center\">\n            <p [innerText]=\"\n                selectedCommonIndex === -1 ?\n                'Select a card to swap (top row)' :\n                'Select a card to swap (bottom row)'\">\n            </p>\n        </strong>\n        <div id=\"card-canvas-div\">\n            <canvas\n                id=\"card-canvas\"\n                #cardCanvas\n            ></canvas>\n        </div>\n    </div>\n\n    <div *ngIf=\"state.gameView === GameView.Showdown\">\n        <div class=\"text-center\">\n            <div class=\"row justify-content-center\">\n                <table class=\"table table-bordered\">\n                    <thead class=\"thead-dark\">\n                        <tr>\n                            <th class=\"fit\" scope=\"col\">Name</th>\n                            <th class=\"fit\" scope=\"col\">Hand</th>\n                            <th class=\"fit\" scope=\"col\">Hand Score</th>\n                            <th class=\"fit\" scope=\"col\">Total Score</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let result of state.showdownResults\">\n                            <th class=\"fit\" scope=\"row\">{{ result.playerName }}</th>\n                            <td class=\"fit\" >{{ result.hand }}</td>\n                            <td class=\"fit\" >{{ result.handScore }}</td>\n                            <td class=\"fit\" >{{ result.totalScore }}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n\n            <div class=\"fixed-bottom\">\n                <button\n                    class=\"btn btn-primary mb-3\"\n                    type=\"button\"\n                    [disabled]=\"isNextRoundClicked\"\n                    (click)=\"onNextRoundClicked()\"\n                >\n                    {{ isNextRoundClicked ? 'Waiting for others...' : 'Next Round' }} [{{ state.numVotedNextRound }} / {{ state.nextRoundVotesRequired }}]\n                </button>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { NavbarService } from './navbar.service';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n\n  constructor(\n    public navbarService: NavbarService,\n  ) {}\n\n  ngOnInit(): void {\n  }\n\n}\n","<nav class=\"navbar navbar-expand-lg navbar-light bg-light border-bottom py-0\">\n  <a class=\"navbar-brand\">Riffle{{ navbarService.navbarMessage | async }}</a>\n  <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n    <ul class=\"navbar-nav ml-auto mt-2 mt-lg-0\">\n      <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"/lobby\"\n          >Lobby</a\n        >\n      </li>\n    </ul>\n  </div>\n</nav>\n\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { GameComponent } from './game/game.component';\nimport { LobbyComponent } from './lobby/lobby.component';\n\nconst routes: Routes = [\n  { path: 'lobby', component: LobbyComponent },\n  { path: 'game/:id', component: GameComponent },\n  { path: '**', redirectTo: 'lobby' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavbarService {\n  public navbarMessage: BehaviorSubject<string>;\n\n  constructor() {\n    this.navbarMessage = new BehaviorSubject('');\n  }\n\n  public setMessage(message: string): void {\n    this.navbarMessage.next(` - ${message}`);\n  }\n\n  public clearMessage(): void {\n    this.navbarMessage.next('');\n  }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}